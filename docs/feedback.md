製品仕様を理解するために、両方のドキュメントを読んでみます。

Read file: docs/basic-design.md
Read file: docs/architecture.md
Read file: docs/basic-rule.md
Read file: README.md
ドキュメントを読んだ結果、以下の製品仕様を理解しました：

## 製品概要
ChatSystemは、チャットUIを通じてドキュメント検索を行うAPIサービスです。ユーザーの質問に対して適切なドキュメントを検索・返却し、見つからない場合は不具合報告フローに進む仕組みです。

## 主要機能
1. **ドキュメント検索** (`/chat`エンドポイント)
   - Bearer認証、30分セッション有効期限
   - ユーザー入力、画面URL、ユーザーエージェント、画像（任意）、日時、メッセージ種別を受け取り
   - ドキュメントタイトルとURLの配列を返却

2. **不具合報告** (`/issue`エンドポイント)
   - Bearer認証、セッション無期限
   - 同様のリクエストパラメータを受け取り
   - HTTPステータスのみ返却

3. **ログ機能**
   - チャットセッションとメッセージの記録
   - 不具合報告とチャットセッションの関連付け

## アーキテクチャ
- **本番環境**: ECS+ECR + RDS(PostgreSQL)
- **ローカル環境**: Docker Compose (Rails + PostgreSQL + Nginx)

## 不明点・確認が必要な事項

1. **データベーススキーマの詳細**
   - `documents`テーブルの構造（タイトル、URL以外のフィールド）
   - `chat_session`、`chat_message`、`issues`テーブルの詳細スキーマ
   - テーブル間のリレーション定義

2. **認証・認可の詳細**
   - Bearer認証の実装方法（JWT、APIキー等）
   - ユーザー管理の仕組み
   - セッション管理の実装詳細

3. **検索ロジックの詳細**
   - ドキュメント検索のアルゴリズム（全文検索、キーワードマッチング等）
   - 検索結果のランキング方法
   - 検索精度の向上方法

4. **画像処理の詳細**
   - 画像の保存方法とストレージ
   - 画像の用途（スクリーンショット、添付ファイル等）
   - 画像の処理・分析機能

5. **エラーハンドリング**
   - 検索結果が見つからない場合の判定基準
   - エラー時のレスポンス形式
   - 不具合報告の処理フロー

6. **パフォーマンス要件**
   - 検索の応答時間要件
   - 同時接続数
   - データベースのインデックス戦略

7. **運用・監視**
   - ログの保存期間
   - 監視項目
   - バックアップ戦略

これらの不明点を明確にすることで、より詳細な実装方針を立てることができます。